# 7.1 도커 컴포즈 파일의 구조
<img style="width:100%" src="https://github.com/TeackjinLee/docker/assets/85720454/c26e84d8-ddca-4600-adc0-c84f828245ec"/><br>
<img style="width:=50%" src="https://github.com/TeackjinLee/docker/assets/85720454/202ad710-e935-4fa5-a82d-b9c530d8af8a"/><br>
이 스크립트의 내용은 도커 네트워크에 도커 컨테이너 하나가 연결된 간단한 애플리케이션을 기술한 것이다.<br>
도커 컴포즈는 사람도 쉽게 읽고 이해할 수 있으며(API의 표준언어인) JSON으로 변환하기도 쉬운 YAML 문법으로 기술된다. YAML 문법은 들여쓰기를 통해 구조를 정의하기 때문에 들여쓰기가 중요하다.<br>
위의 도커 컴포즈 파일은 다음과 같은 세개의 최상위 문으로 구성<br>
1. version은 이 파일에 사용된 도커 컴포즈 파일 형식의 버전을 가리킨다.<br>
   여러 번에 걸쳐 문법과 표현 가능한 요소에 많은 변화가 있으므로 먼저 정의가 따르는 형식 버전을 지정할 필요가 있다. 
2. services는 애플리케이션을 구성하는 모든 컴포넌트를 열거하는 부분이다.<br>
   도커 컴포즈에서는 실제 컨테이너 대신 서비스 개념을 단위로 삼는다. 하나의 서비스를 같은 이미지로 여러 컨테이너에서 실행할 수 있기 때문이다.<br>
3. networks는 서비스 컨테이너가 연결될 모든 도커 네트워크를 열거하는 부분이다.<br>
최종적인 결과는 docker container run -p 8020:80 --name todo-web --network nat diamol/ch06-todo-list 명령을 실행한 상태가 된다.<br>
<img style="width:=50%" src="https://github.com/TeackjinLee/docker/assets/85720454/1ec21c09-741a-49de-996f-f3e08f171a7c"/><br>
서비스 이름 아래로는 속성이 기술된다. 그 내용은 거의 docker container run 명령의 옵션과 그 지정값의 쌍 형태<br>
image는 실행할 이미지를 지정하는 필드<br>
ports는 공개할 포트에 대한 정보<br>
networks는 컨테이너가 접속할 도커 네트워크를 정의하는 필드<br>
서비스가 구성될 네트워크 이름은 app-net이다.<br>
그러나 networks 항목을 보면 이 네트워크는 nat이라는 이름의 외부 네트워크로 연결된다.<br>
external 필드의 의미는 nat네트워크가 이미 존재하므로 새로 생성하지 말라는 뜻.<br>
<br>
도커 컴포즈 사용법은 명령행에 docker-compose 명령 실행.<br>
[실습] 터미널 창을 열어 도커 네트워크를 생성해 보자. 그다음에는 예제 7-1의 도커 컴포즈 파일이 있는 디렉터리로 이동해 docker-compose 명령으로 애플리케이션을 시작하라.<br>

> docker network create nat<br>
> docker-compose up<br>
<br>
<img style="width:=50%" src="https://github.com/TeackjinLee/docker/assets/85720454/720a1775-e55b-414c-8535-92623536581c"/><br>
<br>




# 7.2 도커 컴포즈를 사용해 여러 컨테이너로 구성된 애플리케이션 실행하기


# 7.3 도커 컨테이너 간의 통신


# 7.4 도커 컴포느로 애플리케이션 설정값 지정하기


# 7.5 도커 컴포즈도 만능은 아니다


# 7.6 연습문제
