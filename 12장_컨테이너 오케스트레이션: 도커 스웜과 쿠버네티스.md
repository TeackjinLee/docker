오케스트레이션은 여러 대의 물리 서버에 걸쳐 컨테이너로 애플리케이션을 싱행하는 것을 말한다. 도커 이미지와 컴포즈 파일은 전과 같지만,<br>
컨테이너를 수동으로 직접 관리했던 이전과 비교하면 클러스터에 컨테이너 관리를 위임한다는 점이 다르다. 3부에서는 도커에 내장된 오케스트레이션 도구인 도커 스웜의 사용법을 배운다.<br>
그리고 애플리케이션 업데이트 및 롤백 절차, CI파이프라인을 클러스터와 연결해 지속적 통합에서 한 발짝 더 나아간 지속적 배포를 실현하는 방법도 알아본다.<br>

# 12.1 컨테이너 오케스트레이션 도구란?

도커 컴포즈는 단일 도커 호스트에서 컨테이너를 실행하기 위한 도구였다.<br>
하지만 운영 환경은 단일 호스트로만 구성되지 않는다. 단일 호스트는 한 대만 고장을 일으켜도 전체 애플리케이션이 중단된다.<br>
시스템은 고가용성을 요구, 이때 오케스트레이션이 필요.<br>
오케스트레이션 도구란 기본적으로 클러스터(cluster)를 구성하는 여러 대의 호스트 컴푸터를 의미, 컨테이너를 관리하는 도구이다.<br>

![image](https://github.com/user-attachments/assets/b6138e0b-0b40-4d6e-a7e0-26224843202c)

<br>
![image](https://github.com/user-attachments/assets/bb2bf119-0cc7-4e25-a7e8-7debd73ff841)
<br>
12-2그림에는 서버가 나타나 있지 않다. 오케스트레이션 도구가 각 서버, 네트워크, 스토리지 장치의 세부 사항을 가려 주기 때문이다.<br>
우리는 클러스터가 마치 하나의 대상인 것처럼 명령행 도구와 API를 통해 명령을 보내고 쿼리를 요청해 사용한다.<br>


# 12.2 도커 스웜으로 클러스터 만들기

[실습] 도커 CLI에는 클러스터 관리를 위한 명령도 준비돼있다. swarm init 명령을 사용하면 도커 엔진을 스웜 모드로 전환한다.<br>
      보통은 아무 인자 없이 사용하는 명령이지만, 호스트 컴퓨터가 하나 이상의 네트워크에 접속돼 있다면 스웜 통신에 사용할 IP주소를 선택하라는 메시지와 함께 오류를 일으킬 것이다.<br>

> docker swarm init<br>

![image](https://github.com/user-attachments/assets/aba8eb85-8601-4f9a-a4e2-bcd9b31a105f)

<br>
출력된 내용을 보면, 도커 스웜이 초기화 되고 나의 컴퓨터가 클러스터 매니저가 됐다.<br>
클러스터에 속한 컴퓨터는 매니저와 워커라는 두가지 역할 중 하나를 맡는다. 출력된 내용 중에는 다른 컴퓨터를 클러스터에 워커로 참여 시키기 위해 입력할 명령어도 있다.<br>

매니저 : 클러스터를 관리하는 작업을 직접 수행한다. 클러스터 데이터베이스 매니저 노드에 저장되며, 사용자가 YAML 파일을 전달하기 위해 사용하는 API도 매니저 노드에서 동작하고 컨테이너 모니터링과 스케줄링 모두 매니저 노드가 수행한다.<br>
워커 : 매니저의 스케줄링에 따라 컨테이너를 실행하고 그 상태를 주기적으로 매니저에 보고하는 역할을 하는데, 매니저도 워커의 역할을 수행할 수는 있다.<br>
스웜을 만들고 나면 원하는 만큼 컴퓨터를 스웜을 추가할 수 있다. 스웜에 추가된 컴퓨터를 <span style="color:red">노드</span>라고 부른다.

    

# 13.3 도커 스웜 서비스로 애플리케이션 실행하기

# 13.4 클러스터 환경에서 네트워크 트래픽 관리하기

# 13.5 도커 스웜과 쿠버네티스 중 무엇을 사용할까?

# 연습문제
