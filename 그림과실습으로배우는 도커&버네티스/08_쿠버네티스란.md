# 01 쿠버네티스란?

쿠버네티스 - 컨테이너 오케스트레이션 도구의 일종
쿠버네티스는 어떤 일을 할 수 있는가?
쿠버네티스는 여러대의 컨테이너가 여러대의 물리적 서버에 걸쳐 실행되는 것을 전제로 한다.
이렇게 여러 대의 서버에서 일일이 컨테이너를 실행하고 관리하기는 쉬운 일이 아니다.
쿠버네티스는 바로 이를 위한도구다.
예를 들어, 20개의 컨테이너를 만들려면 docker run 커맨드를 20번 실행해야 할 것이다. 매우 지겹고 지루한 작업이다.
쿠버네티스는 이렇게 번거로운 컨테이너 생성이나 관리의 수고를 덜어주는 도구다.

# 02 마스터 노드와 워커 노드

클러스터의 구성 - 마스터 노드, 워커노드 두가지로 나뉜다.
마스터 노드 - 컨테이너를 샐행하지는 않으며 워커노드에서 실행되는 컨테이너를 관리하는 역할을 한다. 컨테이너엔진설치 X etcd(키-값 스토어 타입의 데이터베이스, 이 밖의 다른목적으로 사용된다.) 설치
워커 노드 - 실제 서버에 해당하는 부분, 컨테이너가 실제 동작하는 서버다. 컨테이너설치 O

이렇게 마스터 노드와 워커 노드로 구성된 일군의 쿠버네티스 시스템을 클러스터 라고 한다.
클러스터 = 마스터노드 + 워커노드 

- 쿠버네티스를 사용하려면 먼저 설치가 필요하다
  쿠버네티스틑 도커 엔진과 별개의 소프트웨어다.
  그러므로 소프트웨어와  CNI(가상 네트워크 드라이버)를 설치해야 한다.

- 컨트롤 플레인(제어판)과 kubu-let
  마스터 노드는 컨트롤 플레인을 통해 워커 노드를 관리한다.

마스터 노드측 컨트롤 플레인의 구성
kube-apiserver : 외부와 통신하는 프로세스, kurbectl로부터 명령을 전달받아 실행한다.
kube-controller-manager : 컨트롤러를 통합 관리, 실행한다.
kube-scheduler : 파드를 워커 노드에 할당한다.
cloud-coltroller-manager : 클라우드 서비스와 연동해 서비스를 생성한다.
etcd : 클러스터 관련 정보 전반을 관리하는 데이터베이스

워커 노드에서는 kube-let과 kube-proxy가 동작.
kube-let은 마스터 노드의 kube-scheduler와 연동하며 워커 노드에 컨테이너 또는 볼륨을 배치하고 실행한다.

워커 노드의 구성
kube-let 마스터 노드에 있는 kube-scheduler와 연동하며 워커 노드에 파드를 배치하고 실행한다. 또 실행 중인 파드의 상태를 정기적으로 모니터링하며 kube-scheduler에 통지한다.
kube-proxy 네트워크 통신의 라우팅 메커니즘

# 쿠버네티스는 항상 '바람직한' 상태를 유지한다.
# 쿠버네티스를 사용하는 시스템에서 컨테이너 삭제
- 쿠버네티스는 정의된 '바람직한 상태'를 유지한다.
